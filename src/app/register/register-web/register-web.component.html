<div class="page-container">
    <div class="header">
        <app-header></app-header>
    </div>

    <div class="tabs">
        <span [ngClass]="tabs == 'HR Volunteer'? 'active':'' " (click)="tab('HR Volunteer')"
            style="width: 50%;text-align: center; padding: 0px 0;">HR Volunteer</span>
        <span [ngClass]="tabs =='Tech Volunteer'?'active':'' " (click)="tab('Tech Volunteer')"
            style="width: 50%; text-align: center; padding: 0px 0;">Tech Volunteer</span>
    </div>

    <div class="for-body">
        <div class="forms" [formGroup]="profileForm">
            <div style="display: flex; justify-content: center; margin-bottom: 20px;">
                <div class="choose-image" *ngIf="selectedFile == null ">
                    <label for="image" style="display: flex; align-items: center; justify-content: center;"> <span
                            style="padding-right: 5px;">
                        </span> + Add Profile Picture</label>
                    <input style="display: none" id="image" type="file" (change)="fileUpload($event)" />
                </div> 
                <div class="view-ima" *ngIf="selectedFile != null">
                    <img [src]="selectedFile" alt="">
                    <p (click)="removeFile()">
                        <svg width="12" height="12" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M8.5 8.5L13.5 13.5M13.5 8.5L8.5 13.5M21 11C21 12.3132 20.7413 13.6136 20.2388 14.8268C19.7363 16.0401 18.9997 17.1425 18.0711 18.0711C17.1425 18.9997 16.0401 19.7363 14.8268 20.2388C13.6136 20.7413 12.3132 21 11 21C9.68678 21 8.38642 20.7413 7.17317 20.2388C5.95991 19.7363 4.85752 18.9997 3.92893 18.0711C3.00035 17.1425 2.26375 16.0401 1.7612 14.8268C1.25866 13.6136 1 12.3132 1 11C1 8.34784 2.05357 5.8043 3.92893 3.92893C5.8043 2.05357 8.34784 1 11 1C13.6522 1 16.1957 2.05357 18.0711 3.92893C19.9464 5.8043 21 8.34784 21 11Z"
                                stroke="red" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </p>
                </div>

            </div>

            <div class="Fields-div">
                <p>Full Name :</p>
                <input type="text" id="fullname" placeholder="Enter Your Full Name" formControlName="name"
                    [class]="submittedForm && profileForm.get('name')?.invalid?'activeErr':'' ">
            </div>
            <div class="Fields-div">
                <p>Email ID :</p>
                <input type="email" id="pwd" placeholder="Enter Email ID" formControlName="email" [readOnly]="queryId != null "
                    [class.activeErr]="submittedForm && profileForm.get('email').invalid" />
            </div>
            <div class="Fields-div">
                <p>Mobile Number :</p>
                <input type="tel" id="mobile" placeholder="Enter Your Mobile Number" formControlName="mobileNumber" [readOnly]="queryId  != null "
                    [class.activeErr]="submittedForm && profileForm.get('mobileNumber').invalid" minlength="10"
                    maxlength="10"
                    onkeypress="return event.keyCode === 8 || event.charCode >= 48 && event.charCode <= 57" />
            </div>
            <div class="Fields-div">
                <p>Highest education :</p>
                <input type="text" id="HE" placeholder="Enter Highest education" formControlName="Education"
                    [class.activeErr]="submittedForm && profileForm.get('Education').invalid" />
            </div>
            <div class="Fields-div">
                <p>Total Experience :</p>
                <div class="sub-input">
                    <select formControlName="experiencefrom"
                        [class.activeErr]="submittedForm && profileForm.get('experiencefrom').invalid">
                        <option [value]="null" hidden selected>Year</option>
                        <option *ngFor="let year of yearsArray">{{year}}</option>
                    </select>
                    <select formControlName="experienceTo" style="margin-left: 6%;"
                        [class.activeErr]="submittedForm && profileForm.get('experienceTo').invalid">
                        <option [value]="null" hidden selected>Month</option>
                        <option *ngFor="let month of monthsArray">{{month}}</option>
                    </select>
                </div>
            </div>

            <div *ngIf="tabs == 'HR Volunteer' " class="Fields-div">
                <p>HR Experience :</p>
                <div class="sub-input">
                    <select formControlName="hrExperienceFrom"
                        [class.activeErr]="submittedForm && profileForm.get('hrExperienceFrom').invalid">
                        <option [value]="null" selected hidden>Year</option>
                        <option *ngFor="let year of yearsArray" value="{{year}}">{{year}}</option>
                    </select>
                    <select formControlName="hrExperienceTo" style="margin-left: 6%;"
                        [class.activeErr]="submittedForm && profileForm.get('hrExperienceTo').invalid">
                        <option [value]="null" selected hidden>Month</option>
                        <option *ngFor="let month of monthsArray" value="{{month}}">{{month}}</option>
                    </select>
                </div>
            </div>

            <div *ngIf="tabs == 'Tech Volunteer' " class="Fields-div">
                <p>Core Experience :</p>
                <div class="sub-input">
                    <select formControlName="coreExperienceFrom"
                        [class.activeErr]="submittedForm && profileForm.get('coreExperienceFrom').invalid">
                        <option [value]="null" selected hidden>Year</option>
                        <option *ngFor="let year of yearsArray" value="{{year}}">{{year}}</option>
                    </select>
                    <select formControlName="coreExperienceTo" style="margin-left:6%;"
                        [class.activeErr]="submittedForm && profileForm.get('coreExperienceTo').invalid">
                        <option [value]="null" selected hidden>Month</option>
                        <option *ngFor="let month of monthsArray" value="{{month}}">{{month}}</option>
                    </select>
                </div>
            </div>

            <div *ngIf="tabs == 'Tech Volunteer' " class="Fields-div">
                <p>All Skills :</p>
                <!-- <div class="auto-suggetion">
                    <input type="text" placeholder="All Key Skills" (keyup)="getSkill($event)" [formControl]="skils"
                        [ngClass]="submitted && profileForm.get('skills')?.invalid? 'error-active': '' " />
                    <div class="list-option">
                        <ul>
                            <li *ngFor="let data of skilldata" (click)="select_skils(data)">{{data.Skill_Title}}
                            </li>
                        </ul>
                    </div>
                </div> -->
                <!-- <p>{{profileForm.get('skills')?.value}}</p> -->
                <button type="button" class="multi-check" data-bs-toggle="dropdown"
                    [class.activeErr]="profileForm.get('skills')?.invalid && submittedForm?'error-message':''">
                    Select Skills 
                </button>
                <ul class="dropdown-menu dropdown-option dropdown-option-lan" onclick="event.stopPropagation()">
                    <li *ngFor="let lang of skillsArr "><a class="dropdown-item" style="width: 100%;"><label
                                for="{{lang}}" class="lang-align"><input (change)="addSkill1($event)" type="checkbox" 
                                    value="{{lang}}" name="" [checked]="addSkills.value|checked:lang"
                                    id="{{lang}}">
                                {{lang}}</label></a></li>
                </ul>
                <!-- <input type="text" placeholder="Enter All Skills" formControlName="skillsfron" style="width: 85%;"
                    [class.activeErr]="submittedForm && profileForm.get('skills').invalid"> -->
                <!-- <button class="add-btn" (click)="addSkill1()">Add</button> -->
            </div>
            <div class="datas" *ngIf="skills1.length>0">
                <p class="items" *ngFor="let item of addSkills.value">{{item}}
                    <!-- <span (click)="addSkill1Remove(item)"> <svg width="12" height="12" viewBox="0 0 12 12" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M6 12C2.6862 12 0 9.3138 0 6C0 2.6862 2.6862 0 6 0C9.3138 0 12 2.6862 12 6C12 9.3138 9.3138 12 6 12ZM6 10.8C7.27304 10.8 8.49394 10.2943 9.39411 9.39411C10.2943 8.49394 10.8 7.27304 10.8 6C10.8 4.72696 10.2943 3.50606 9.39411 2.60589C8.49394 1.70571 7.27304 1.2 6 1.2C4.72696 1.2 3.50606 1.70571 2.60589 2.60589C1.70571 3.50606 1.2 4.72696 1.2 6C1.2 7.27304 1.70571 8.49394 2.60589 9.39411C3.50606 10.2943 4.72696 10.8 6 10.8ZM6 5.1516L7.6968 3.4542L8.5458 4.3032L6.8484 6L8.5458 7.6968L7.6968 8.5458L6 6.8484L4.3032 8.5458L3.4542 7.6968L5.1516 6L3.4542 4.3032L4.3032 3.4542L6 5.1516Z"
                                fill="#FF0000" />
                        </svg>
                    </span> -->
                </p>
            </div>
            <!-- <div style="margin-top: 10px;height: auto;" *ngIf=" profileForm.get('skills')?.value.length > 0">
                <div class="output" *ngIf="profileForm.get('skills')?.valid">
                    <ol style=" display: flex;flex-wrap: wrap;width: 100%;height: auto;">
                        <li *ngFor="let item of profileForm.get('skills')?.value">
                            <p><span style="color: rgb(255 8 8);cursor: pointer;padding-right: 4px;"
                                    (click)="removeKeyskill(item)">X</span>{{item}}</p>
                        </li>
                    </ol>
                </div>
            </div> -->

            <!-- <div *ngIf="tabs == 'Tech Volunteer' ">
                <p>Evaluation Skills :</p>
                <input type="text" placeholder="Enter Current Skills" formControlName="currentSkillfron"
                    style="width: 85%;" [class.activeErr]="submittedForm && profileForm.get('currentSkill').invalid" />
                <button class="add-btn" (click)="addSkill2()">Add</button>
            </div>
            <div class="datas" *ngIf="skills2.length>0">
                <p class="items" *ngFor="let item of skills2">{{item}}
                    <span (click)="addSkill2Remove(item)"> <svg width="12" height="12" viewBox="0 0 12 12" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M6 12C2.6862 12 0 9.3138 0 6C0 2.6862 2.6862 0 6 0C9.3138 0 12 2.6862 12 6C12 9.3138 9.3138 12 6 12ZM6 10.8C7.27304 10.8 8.49394 10.2943 9.39411 9.39411C10.2943 8.49394 10.8 7.27304 10.8 6C10.8 4.72696 10.2943 3.50606 9.39411 2.60589C8.49394 1.70571 7.27304 1.2 6 1.2C4.72696 1.2 3.50606 1.70571 2.60589 2.60589C1.70571 3.50606 1.2 4.72696 1.2 6C1.2 7.27304 1.70571 8.49394 2.60589 9.39411C3.50606 10.2943 4.72696 10.8 6 10.8ZM6 5.1516L7.6968 3.4542L8.5458 4.3032L6.8484 6L8.5458 7.6968L7.6968 8.5458L6 6.8484L4.3032 8.5458L3.4542 7.6968L5.1516 6L3.4542 4.3032L4.3032 3.4542L6 5.1516Z"
                                fill="#FF0000" />
                        </svg>
                    </span>
                </p>
            </div> -->
            <!-- <div style="margin-top: 10px;height: auto;" *ngIf=" profileForm.get('currentSkill')?.value.length > 0">
                <p class="label"></p>
                <div class="output" *ngIf="profileForm.get('currentSkill')?.valid">
                    <ol style=" display: flex;flex-wrap: wrap;width: 100%;height: auto;">
                        <li *ngFor="let item of profileForm.get('currentSkill')?.value">
                            <p><span style="padding-left: 5px; color: rgb(253, 6, 6);cursor: pointer;"
                                    (click)="removeCorekill(item)">X</span>{{item}}</p>
                        </li>
                    </ol>
                </div>
            </div> -->
            <div class="Fields-div">
                <p>Work Status :</p>
                <input type="text" id="WS" placeholder="Enter Work Status" formControlName="workStatus"
                    [class.activeErr]="submittedForm && profileForm.get('workStatus').invalid" />
            </div>

            <div class="Fields-div">
                <p>Current Role :</p>
                <input type="text" id="CR" placeholder="Enter Current Role" formControlName="roleCategory"
                    [class.activeErr]="submittedForm && profileForm.get('roleCategory').invalid" />
            </div>

            <div class="Fields-div">
                <p>Current CTC :</p>
                <input type="text" id="CTC" placeholder="Enter Current CTC" formControlName="currentCTC"
                    [class.activeErr]="submittedForm && profileForm.get('currentCTC').invalid" />
            </div>

            <div class="Fields-div">
                <p>Location :</p>
                <input type="text" id="location" placeholder="Enter Location" formControlName="currentLocation"
                    [class.activeErr]="submittedForm && profileForm.get('currentLocation').invalid" />
            </div>

            <div class="Fields-div">
                <p>Interviewing Charges :</p>
                <input type="text" id="IC" placeholder="Enter Interviewing Charges" formControlName="charges"
                    [class.activeErr]="submittedForm && profileForm.get('charges').invalid" />
            </div>

            <div class="lang" class="Fields-div">
                <p> Languages :</p>
                <div style="width: 70%;">
                    <button type="button" class=" multi-check" data-bs-toggle="dropdown" style="width: 72%;"
                        [class.activeErr]="submittedForm && profileForm.get('language').invalid">
                        Select
                    </button>
                    <ul class="dropdown-menu dropdown-option" onclick="event.stopPropagation()" style="margin: 0px;">
                        <li *ngFor="let lang of indianLanguages "><a class="dropdown-item">
                                <label for="{{lang}}">
                                    <input (change)="add_form_control($event)" type="checkbox" value="{{lang}}" name=""
                                        [checked]="profileForm.get('language').value|checked:lang" id="{{lang}}">
                                    {{lang}}
                                </label>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <ng-container *ngIf="dataCtrls.controls !=null">
                <div class="selected-language" formArrayName="language" *ngIf="dataCtrls.controls.length !=0"
                    style="width: 45%;margin-left: 30%;">
                    <div class="language" *ngFor="let item of dataCtrls.controls; index as i" [formGroupName]="i">
                        <p class="selected-language-name">{{item.get('language')?.value}} <span style="cursor: pointer;"
                                (click)="remove_controls(i)">
                                <svg width="8" height="8" viewBox="0 0 8 8" fill="red"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path d="M1 7L7 1M1 1L7 7" stroke="red" stroke-width="1.5" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                </svg>
                            </span>
                        </p>
                        <div class="options">
                            <label><input formControlName="speak" type="checkbox">
                                Speak</label>
                            <label><input formControlName="read" type="checkbox"> Read</label>
                            <label><input formControlName="write" type="checkbox">
                                Write</label>
                        </div>
                    </div>
                </div>
            </ng-container>

        </div>
        <p class="err" *ngIf="submittedForm && profileForm.invalid"> * Fill All The Required Files </p>
        <p class="err" *ngIf="serErr != null">{{serErr}}</p>
        <div class="reg-btn">
            <button (click)="submitForm()" type="submit">Submit</button>
        </div>
    </div>

</div>